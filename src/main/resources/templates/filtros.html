<!doctype html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{template.html}" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.ultraq.net.nz/thymeleaf/layout ">
    <head>
       <title>Skus</title>
    </head>
    <body>
        <section layout:fragment="content">
		    <div class="container mt-4">
		        <div class="row">
		            <!-- Coluna para os filtros -->
		            <div class="col-md-3">
				    <h4>Filtros</h4>
				    <form id="filterForm" class="p-3 border rounded shadow-sm bg-light" 
				        hx-trigger="submit" 
				        hx-get="/filtros" 
				        hx-target="#skuCards" 
				        hx-swap="innerHTML" 
				        hx-push-url="true" 
				        hx-headers='{"HX-Partial-Request": "true"}'>
				        
				        <div class="mb-3">
				            <label for="skuIds" class="form-label">Ids de SKU:</label>
				            <input type="text" class="form-control" id="skuIds" name="skuIds" th:value="${queryParamsMap['skuIds']}" />
				        </div>
				
				        <div class="mb-3">
				            <label for="productIds" class="form-label">Ids de Produto:</label>
				            <input type="text" class="form-control" id="productIds" name="productIds" th:value="${queryParamsMap['productIds']}" />
				        </div>
				
				        <div class="mb-3">
				            <label for="sellerId" class="form-label">Id do Seller:</label>
				            <input type="text" class="form-control" id="sellerId" name="sellerId" th:value="${queryParamsMap['sellerId']}" />
				        </div>
				
				        <div class="mb-3">
				            <label for="sorting" class="form-label">Ordenação:</label>
				            <select id="sorting" name="sorting" class="form-select">
				                <option value="Ascendente" th:selected="${queryParamsMap['sorting'] == 'Ascendente'}">Ascendente</option>
				                <option value="Descendente" th:selected="${queryParamsMap['sorting'] == 'Descendente'}">Descendente</option>
				            </select>
				        </div>
				
				        <button type="submit" class="btn btn-primary w-100">Aplicar Filtros</button>
				    </form>
				</div>

					
		            <!-- Coluna para os cards de SKUs -->
		            <div class="col-md-9">
		                <h4>SKUs Encontradas</h4>
		                <!-- Fragmento de SKUs, que será substituído -->
		                <div id="skuCards" th:fragment="skuCards">
		                    <div th:each="sku : ${skus}">
		                        <div class="card mb-3">
		                            <div class="card-body">
		                                <h5 class="card-title" th:text="${sku.productId}"></h5>
		                                <p class="card-text" th:text="'SKU ID: ' + ${sku.skuId}"></p>
		                                <p class="card-text" th:text="'Seller ID: ' + ${sku.sellerId}"></p>
		                                <p class="card-text" th:text="'Status: ' + ${sku.status}"></p>
		                            </div>
		                        </div>
		                    </div>
		                	<div th:replace="~{pagination :: pagination(${pagination})}"></div>
		                </div>
		            </div>
		        </div>
		    </div>
		</section>
    </body>
</html>
